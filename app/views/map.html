<div class="row">
  <div class="col-lg-12">
    <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">
      <strong>{{ totalPlacesFound }}</strong> place(s) has been found
    </uib-alert>

    <div ng-if="totalPlacesFound > 0" map-lazy-load="https://maps.google.com/maps/api/js?key=AIzaSyAHnukcKfjgitOWN5XFsGchuyJnyT42JiA">
      <ng-map ng-if="!hideMap"  zoom="8" style="height: 450px; margin-top: 40px" center="{{ mapMarkers[0].position }}">
        <marker id='{{shop.id}}' position="{{shop.position}}"
                ng-repeat="shop in mapMarkers"
                on-click="vm.showDetail(shop)">
        </marker>

        <info-window id="foo-iw">
          <div ng-non-bindable="">
            <h5>{{vm.shop.name}}</h5>
            <div>{{vm.shop.checkins}}</div>
            <div>{{vm.shop.distance}}</div>
            <div>{{vm.shop.position}}</div>
          </div>
        </info-window>

        <heatmap-layer id="heatlay" data="taxiData"></heatmap-layer>
      </ng-map>
    </div>
  </div>
</div>
